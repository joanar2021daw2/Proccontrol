<div class="section-title addPaddingTop">
    <h2>Editar procès</h2>
</div>

<div class="row">
    <div class="col-lg-12">
    <form (ngSubmit)="onSubmit()" class="php-email-form">

        <div class="form-group mt-3">
            <label>Id del procès</label>
            <input type="text" class="form-control" id="nomProces" [(ngModel)]="proces.idProces" name="idProces"
                required="true" readonly="true">
        </div>

        <div class="form-group mt-3">
            <label>Nom del procès</label>
            <input type="text" class="form-control" id="nomProces" [(ngModel)]="proces.nom" name="nomProces"
                required="true">
        </div>

        <div class="form-group mt-3">
            <label>Sel·lecciona la referència del producte</label>
            <select class="form-select" id="referencia" name="referencia" [(ngModel)]="proces.referencia"
                required="true">
                <option *ngFor="let referencia of referencies" [ngValue]="referencia">{{ referencia.nom }}</option>
            </select>
        </div>
        
        <br>

        <button class="btn btn-success" type="submit">Acceptar</button>

    </form><br>

    <table class="table table-striped table-hover">
        <thead class="table-danger">
            <tr>
                <th>Imatge</th>
                <th></th>
                <th>Nom</th>
                <th>Descripció</th>
            </tr>
        </thead>

        <tbody>
            <tr *ngFor="let pas of proces.passos">
                <td><img class="imatge" [src]="pas.imatge" alt="" />
                    <input type="file" class="form-control" (change)="onSelectFile($event, pas)" name="imatge">
                </td>
                <td><b>{{ pas.numeroDePas }}</b></td>
                <td><input type="text" class="form-control" [(ngModel)]="pas.titol" name="titol"></td>
                <td><textarea type="text" cols="30" rows="8" class="form-control" [(ngModel)]="pas.descripcio"
                        name="descripcio"></textarea></td>
            </tr>
        </tbody>
    </table>
    
</div>